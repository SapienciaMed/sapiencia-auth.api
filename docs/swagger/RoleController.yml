/api/v1/role/get-by-id/{id}:
  get:
    parameters:
      - in: path
        name: id
        schema:
          type: number
        required: true
        description: Id del Rol a consultar
    tags:
      - Roles
    summary: Permite la consulta un rol en específico a traves de su id
    produces:
      - application/json
    responses:
      200:
        description: OK
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Roles"
            examples:
              Consulta:
                value:
                  {
                    "data": {
                        "id": 1,
                        "name": "Administrador",
                        "description": "Administador del sistema",
                        "aplicationId": 1,
                        "userModify": null,
                        "dateModify": null,
                        "userCreate": "Default",
                        "dateCreate": "2023-05-31T15:42:35.451-05:00",
                        "actions": [
                            {
                                "id": 1,
                                "optionId": 1,
                                "name": "Consultar Roles",
                                "order": "10",
                                "indicator": "ROLES_CONSULTAR",
                                "url": "/core/roles"
                            },
                            {
                                "id": 2,
                                "optionId": 1,
                                "name": "Crear Rol",
                                "order": "20",
                                "indicator": "ROLES_CREAR",
                                "url": "/core/roles/crear"
                            },
                            {
                                "id": 3,
                                "optionId": 1,
                                "name": "Editar Roles",
                                "order": "30",
                                "indicator": "ROLES_EDITAR",
                                "url": "/core/roles/editar"
                            },
                            {
                                "id": 4,
                                "optionId": 1,
                                "name": "Eliminar Roles",
                                "order": "40",
                                "indicator": "ROLES_ELIMINAR",
                                "url": null
                            },
                            {
                                "id": 5,
                                "optionId": 2,
                                "name": "Consultar Perfil de Usuario",
                                "order": "10",
                                "indicator": "PERFILES_CONSULTAR",
                                "url": "/core/perfiles-usuario"
                            },
                            {
                                "id": 6,
                                "optionId": 2,
                                "name": "Gestionar Perfiles de Usuario",
                                "order": "20",
                                "indicator": "PERFILES_GESTIONAR",
                                "url": "/core/perfiles-usuario/gestionar"
                            },
                            {
                                "id": 7,
                                "optionId": 3,
                                "name": "Consultar Usuarios",
                                "order": "10",
                                "indicator": "USUARIOS_CONSULTAR",
                                "url": "/core/usuarios"
                            },
                            {
                                "id": 8,
                                "optionId": 3,
                                "name": "Crear Usuario",
                                "order": "20",
                                "indicator": "USUARIOS_CREAR",
                                "url": "/core/usuarios/crear"
                            },
                            {
                                "id": 9,
                                "optionId": 3,
                                "name": "Editar Usuario",
                                "order": "30",
                                "indicator": "USUARIOS_EDITAR",
                                "url": "/core/usuarios/editar"
                            },
                            {
                                "id": 10,
                                "optionId": 3,
                                "name": "Eliminar Usuarios",
                                "order": "40",
                                "indicator": "USUARIOS_ELIMINAR",
                                "url": null
                            }
                        ]
                    },
                    "operation": {
                        "code": "OK"
                    }
                }
    security:
      - apiAuth: []

/api/v1/role/get-paginated:
  post:
    tags:
      - Roles
    summary: Permite la consulta de roles por filtros y paginado
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              aplicationId:
                type: number
                example: 1
              page:
                type: number
                example: 1
              perPage:
                type: number
                example: 10
    produces:
      - application/json
    responses:
      200:
        description: OK
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RolesPaginated"
            examples:
              Consulta:
                value:
                  {
                    "data":
                      {
                        "array":
                          [
                            {
                              "id": 1,
                              "name": "Administrador",
                              "description": "Administador del sistema",
                              "aplicationId": 1,
                              "userModify": null,
                              "dateModify": null,
                              "userCreate": "Default",
                              "dateCreate": "2023-05-31T15:42:35.451-05:00",
                            },
                            {
                              "id": 278,
                              "name": "prueba",
                              "description": "test",
                              "aplicationId": 1,
                              "userModify": null,
                              "dateModify": null,
                              "userCreate": "797940",
                              "dateCreate": "2023-06-27T09:40:02.350-05:00",
                            },
                          ],
                        "meta":
                          {
                            "total": 2,
                            "per_page": 20,
                            "current_page": null,
                            "last_page": 1,
                            "first_page": 1,
                            "first_page_url": "/?page=1",
                            "last_page_url": "/?page=1",
                            "next_page_url": null,
                            "previous_page_url": null,
                          },
                      },
                    "operation": { "code": "OK" },
                  }
    security:
      - apiAuth: []

/api/v1/role/create:
  post:
    tags:
      - Roles
    summary: Permite la creación de un rol
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                example: "Usuario swagger"
              description:
                type: string
                example: "Usuario creado desde swagger"
              aplicationId:
                type: number
                example: 1
              userCreate:
                type: string
                example: "swagger"
              actions:
                type: array
                example: [
                  {
                      "id": 1,
                      "optionId": 1,
                      "name": "Consultar Roles",
                      "order": 10,
                      "indicator": "ROLES_CONSULTAR",
                      "url": "/core/roles"
                  },
                  {
                      "id": 2,
                      "optionId": 1,
                      "name": "Crear Rol",
                      "order": 20,
                      "indicator": "ROLES_CREAR",
                      "url": "/core/roles/crear"
                  }
                ]
    produces:
      - application/json
    responses:
      200:
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                name: 
                  type: string
                description:
                  type: string
                applicationId:
                  type: number
                userCreate:
                  type: string
                dateCreate:
                  type: date
                id:
                  type: number

            examples:
              Creacion:
                value:
                  {
                    "data": {
                        "name": "Usuario swagger",
                        "description": "Usuario creado desde swagger",
                        "aplicationId": 1,
                        "userCreate": "swagger",
                        "dateCreate": "2023-06-27T12:17:37.868-05:00",
                        "id": 279
                    },
                    "operation": {
                        "code": "OK"
                    }
                }
    security:
      - apiAuth: []

/api/v1/role/update/{id}:
  put:
    parameters:
      - in: path
        name: id
        schema:
          type: number
        required: true
        description: Id del Rol a actualizar
    tags:
      - Roles
    summary: Permite la actualización de un rol a traves de un id
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                example: "Usuario edit swagger"
              description:
                type: string
                example: "Usuario editado desde swagger"
              aplicationId:
                type: number
                example: 1
              userModify:
                type: string
                example: "swaggerEdit"
              actions:
                type: array
                example: [
                  {
                      "id": 1,
                      "optionId": 1,
                      "name": "Consultar Roles",
                      "order": 10,
                      "indicator": "ROLES_CONSULTAR",
                      "url": "/core/roles"
                  },
                  {
                      "id": 2,
                      "optionId": 1,
                      "name": "Crear Rol",
                      "order": 20,
                      "indicator": "ROLES_CREAR",
                      "url": "/core/roles/crear"
                  }
                ]
    produces:
      - application/json
    responses:
      200:
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: number
                name: 
                  type: string
                description:
                  type: string
                applicationId:
                  type: number
                userModify:
                  type: string
                dateModify:
                  type: date
                userCreate:
                  type: string
                dateCreate:
                  type: date

            examples:
              Actualizacion:
                value:
                  {
                    "data": {
                        "id": 281,
                        "name": "Usuario edit swagger",
                        "description": "Usuario editado desde swagger",
                        "aplicationId": 1,
                        "userModify": "swaggerEdit",
                        "dateModify": "2023-06-27T17:55:07.620Z",
                        "userCreate": "swagger",
                        "dateCreate": "2023-06-27T12:34:16.936-05:00"
                    },
                    "operation": {
                        "code": "OK"
                    }
                  } 
              Rol no encontrado:
                value: {
                            "data": {},
                            "operation": {
                                "code": "FAIL",
                                "message": "El registro indicado no existe"
                            }
                        }
      400:
        description: "Bad Request"
        content:
          application/json:
            examples:
              Error en datos:
                value:
                  {
                    "data": null,
                    "operation": {
                        "code": "FAIL",
                        "message": "ValidationException: E_VALIDATION_FAILURE: Validation Exception"
                    }
                  }
    security:
      - apiAuth: []

/api/v1/role/delete/{id}:
  delete:
    parameters:
      - in: path
        name: id
        schema:
          type: number
        required: true
        description: Id del Rol a eliminar
    tags:
      - Roles
    summary: Permite la eliminación de un rol a traves de un id
    produces:
      - application/json
    responses:
      200:
        description: OK
        content:
          application/json:
            examples:
              Eliminar:
                value:
                  {
                    "data": true,
                    "operation": {
                        "code": "OK"
                    }
                  }
              Rol no encontrado:
                value:
                  {
                    "data": false,
                    "operation": {
                      "code": "FAIL",
                      "message": "El registro indicado no existe"
                    }
                  }
    security:
      - apiAuth: []

components:
  schemas:
    RolesPaginated:
      type: object
      properties:
        id:
          type: number
          example: 1
        name:
          type: string
          example: "Administrador"
        description:
          type: string
          example: "Administador del sistema"
        aplicationId:
          type: string
          example: 1
        userModify:
          type: string
          example: "797940"
        dateModify:
          type: date
          example: "2023-06-27T09:40:02.350-05:00"
        userCreate:
          type: string
          example: "797940"
        dateCreate:
          type: date
          example: "2023-05-31T15:42:35.451-05:00"
    Roles:
      type: object
      properties:
        id:
          type: number
          example: 1
        name:
          type: string
          example: "Administrador"
        description:
          type: string
          example: "Administador del sistema"
        aplicationId:
          type: string
          example: 1
        userModify:
          type: string
          example: "797940"
        dateModify:
          type: date
          example: "2023-06-27T09:40:02.350-05:00"
        userCreate:
          type: string
          example: "797940"
        dateCreate:
          type: date
          example: "2023-05-31T15:42:35.451-05:00"
        actions: 
          type: array
          example: [
            {
                "id": 1,
                "optionId": 1,
                "name": "Consultar Roles",
                "order": "10",
                "indicator": "ROLES_CONSULTAR",
                "url": "/core/roles"
            },
            {
                "id": 2,
                "optionId": 1,
                "name": "Crear Rol",
                "order": "20",
                "indicator": "ROLES_CREAR",
                "url": "/core/roles/crear"
            }
          ]
        
        